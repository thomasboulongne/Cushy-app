<template>
	<div id="my-movies" :class="genres[0]">
		<div class="bg" ref="bg"></div>
		<div class="header" ref="header">
			<div class="back" ref="back" @click="closeDetails">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 8 14" style="enable-background:new 0 0 8 14;" xml:space="preserve">
					<path fill="f8f8f8" d="M7,14c-0.3,0-0.5-0.1-0.7-0.3l-6-6.1C0.1,7.5,0,7.2,0,6.9s0.1-0.5,0.3-0.7l5.9-5.9c0.4-0.4,1-0.4,1.4,0
					c0.4,0.4,0.4,1,0,1.4L2.4,6.9l5.3,5.4c0.4,0.4,0.4,1,0,1.4C7.5,13.9,7.3,14,7,14z"/>
				</svg>
				<span>Back</span>
			</div>
			<div class="switch" ref="switch" @click="switchList()">
				<svg v-if="currentList == shows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ref="movies-icon" viewBox="0 0 27 27">
					<path class="stroke-colored" fill="white" d="M1.38057143,23.269 L22.3221429,23.269 L22.3221429,11.4288571 L1.38057143,11.4288571 L1.38057143,23.269 Z M4.74542857,4.87942857 L3.24857143,7.36642857 L1.28728571,7.85657143 L0.790285714,5.86785714 L4.74542857,4.87942857 Z M21.6038571,2.779 L17.7291429,3.74728571 L19.2222857,1.26671429 C19.2234286,1.26471429 19.224,1.26257143 19.2251429,1.26057143 L21.1068571,0.790285714 L21.6038571,2.779 Z M15.294,8.64685714 L18.916,8.64685714 L16.8761429,10.6867143 C16.8674286,10.6952857 16.8608571,10.7052857 16.8532857,10.7145714 L13.2261429,10.7145714 L15.294,8.64685714 Z M10.6618571,8.64685714 L14.284,8.64685714 L12.244,10.6867143 C12.2352857,10.6952857 12.2287143,10.7052857 12.2211429,10.7145714 L8.59414286,10.7145714 L10.6618571,8.64685714 Z M6.02971429,8.64685714 L9.65185714,8.64685714 L7.612,10.6867143 C7.60328571,10.6952857 7.59671429,10.7052857 7.58914286,10.7145714 L3.962,10.7145714 L6.02971429,8.64685714 Z M2.957,10.7145714 L1.38057143,10.7145714 L1.38057143,8.64685714 L5.01971429,8.64685714 L2.97985714,10.6867143 C2.97114286,10.6952857 2.96457143,10.7052857 2.957,10.7145714 L2.957,10.7145714 Z M18.2447143,1.50571429 L16.7478571,3.99257143 L13.2294286,4.87185714 L14.7262857,2.385 L18.2447143,1.50571429 Z M13.745,2.63028571 L12.2481429,5.11714286 L8.72971429,5.99657143 L10.2264286,3.50957143 L13.745,2.63028571 Z M9.24514286,3.75485714 L7.74842857,6.24171429 L4.22985714,7.12114286 L5.72671429,4.63414286 L9.24514286,3.75485714 Z M22.3221429,10.7145714 L17.8582857,10.7145714 L19.9261429,8.64685714 L22.3221429,8.64685714 L22.3221429,10.7145714 Z M23.0364286,8.28971429 C23.0364286,8.09242857 22.8765714,7.93257143 22.6792857,7.93257143 L3.92928571,7.93257143 L22.1235714,3.38528571 C22.2155714,3.36242857 22.2944286,3.30385714 22.3432857,3.22271429 C22.392,3.14142857 22.4064286,3.04414286 22.3834286,2.95228571 L21.7132857,0.270714286 C21.6654286,0.0791428571 21.4708571,-0.0372857143 21.2802857,0.0107142857 L0.270571429,5.26157143 C0.178571429,5.28442857 0.0997142857,5.343 0.0508571429,5.42414286 C0.00214285714,5.50542857 -0.0122857143,5.60271429 0.0107142857,5.69457143 L0.666285714,8.31785714 L0.666285714,23.6261429 C0.666285714,23.8234286 0.826142857,23.9832857 1.02342857,23.9832857 L22.6792857,23.9832857 C22.8765714,23.9832857 23.0364286,23.8234286 23.0364286,23.6261429 L23.0364286,8.28971429 Z" ></path>
					<path class="stroke-colored" fill="white" d="M9.54642857,18.235 L13.8902857,18.235 L13.8902857,14.12 L9.54642857,14.12 L9.54642857,18.235 Z M18.6345714,18.2348571 L14.6045714,18.2348571 L14.6045714,14.12 L18.6345714,14.12 C18.8318571,14.12 18.9917143,13.96 18.9917143,13.7628571 C18.9917143,13.5655714 18.8318571,13.4057143 18.6345714,13.4057143 L4.923,13.4057143 C4.72571429,13.4057143 4.56585714,13.5655714 4.56585714,13.7628571 C4.56585714,13.96 4.72571429,14.12 4.923,14.12 L8.83214286,14.12 L8.83214286,18.2348571 L4.923,18.2348571 C4.72571429,18.2348571 4.56585714,18.3947143 4.56585714,18.592 C4.56585714,18.7892857 4.72571429,18.9491429 4.923,18.9491429 L18.6345714,18.9491429 C18.8318571,18.9491429 18.9917143,18.7892857 18.9917143,18.592 C18.9917143,18.3947143 18.8318571,18.2348571 18.6345714,18.2348571 L18.6345714,18.2348571 Z" ></path>
					<path fill="#ffffff" d="M18.6346143,20.6056286 L4.92304286,20.6056286 C4.72575714,20.6056286 4.5659,20.7654857 4.5659,20.9627714 C4.5659,21.1600571 4.72575714,21.3199143 4.92304286,21.3199143 L18.6346143,21.3199143 C18.8319,21.3199143 18.9917571,21.1600571 18.9917571,20.9627714 C18.9917571,20.7654857 18.8319,20.6056286 18.6346143,20.6056286" ></path>
				</svg>
				<svg v-else version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 27 27">
					<path class="fill-colored" d="M23.7089427,25.490669 L3.03816742,25.490669 C1.52768427,25.490669 0.303279775,24.284508 0.303279775,22.796531 L0.303279775,8.56018621 C0.303279775,7.0722092 1.52768427,5.86604828 3.03816742,5.86604828 L23.7089427,5.86604828 C25.2194258,5.86604828 26.4438303,7.0722092 26.4438303,8.56018621 L26.4438303,22.796531 C26.4438303,24.284508 25.2194258,25.490669 23.7089427,25.490669 Z"></path>
					<polygon fill="#ffffff" stroke-linejoin="round" points="3.03370787 22.4797494 19.0004157 22.4797494 19.0004157 8.87726667 3.03370787 8.87726667"></polygon>
					<polyline class="fill-colored" stroke-linecap="round" stroke-linejoin="bevel" points="13.9550562 0.298850575 17.8988764 5.87749425 22.5001011 1.59377011"></polyline>
					<path fill="#ffffff" d="M24.219091,10.2966575 C24.219091,11.0805425 23.5738213,11.7161977 22.7780798,11.7161977 C21.9823382,11.7161977 21.3370685,11.0805425 21.3370685,10.2966575 C21.3370685,9.51277241 21.9823382,8.87711724 22.7780798,8.87711724 C23.5738213,8.87711724 24.219091,9.51277241 24.219091,10.2966575 Z" stroke-linecap="round" stroke-linejoin="bevel"></path>
					<path fill="#ffffff" d="M24.219091,15.2911678 C24.219091,16.0750529 23.5738213,16.710708 22.7780798,16.710708 C21.9823382,16.710708 21.3370685,16.0750529 21.3370685,15.2911678 C21.3370685,14.5072828 21.9823382,13.8716276 22.7780798,13.8716276 C23.5738213,13.8716276 24.219091,14.5072828 24.219091,15.2911678 Z" stroke-linecap="round" stroke-linejoin="bevel"></path>
				</svg>
			</div>
			<div class="mood" ref="mood">
				<h2>
					{{ mood.title }}
				</h2>
				<h3>
					{{ mood.subtitle }}
				</h3>
			</div>
		</div>
		<ul v-if="currentList.length" ref="list" @touchstart="onTouchStart($event)" @touchmove="onTouchMove($event)" @touchend="onTouchEnd($event, current.ids.trakt)">
			<li v-for="current in currentList" :data-id="current.ids.trakt">
				<img class="poster" :src="current.backdropImage" alt="">
				<div class="trailer" ref="trailer" v-if="current.trailer">
					<!-- <iframe :src="details ? 'https://www.youtube.com/embed/' + current.trailerId : ''" frameborder="0" allowfullscreen></iframe> -->
				</div>
			</li>
		</ul>
		<div v-if="current" id="movie-description" ref="description" @touchstart="onDetailsTouchStart($event)" @touchmove="onDetailsTouchMove($event)" @touchend="onDetailsTouchEnd($event)">
			<h2 id="movie-title" ref="title">{{ current.title }}</h2>
			<div class="line">
				<div class="rating" ref="rating">
					<span v-for="rate in current.customRating">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60.09 57.15">
							<polygon :class="rate == 'starred' ? 'fill-colored':''" points="30.04 0 37.13 21.83 60.09 21.83 41.52 35.32 48.61 57.15 30.04 43.66 11.47 57.15 18.57 35.32 0 21.83 22.95 21.83 30.04 0"/>
						</svg>
					</span>
				</div>
				<div class="time" ref="time">
					<span v-if="current.hours">{{ current.hours }}h{{ current.minutes }}</span>
					<span v-else>{{ current.minutes }} minutes</span>
				</div>
			</div>
			<div class="more-infos" ref="moreInfos">
				<div class="genres" ref="genres">
					<template v-for="genre in current.genres">
						<div v-if="genre == 'thriller'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g>
									<g id="path-3_1_" class="st3">
										<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
										<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
											v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
									</g>
									<g class="st3">
										<path class="st1 fill-colored" d="M34.3,10.3L31,5.9c-0.2-0.2-0.5-0.3-0.7-0.3c-7.5,1.9-9.5-1.3-9.5-1.3c-0.1-0.2-0.4-0.4-0.6-0.4
											c-0.2,0-0.5,0.1-0.6,0.3c0,0-0.5,0.8-1.8,1.3c-1.3,0.6-3.7,1-7.7,0c-0.3-0.1-0.6,0-0.7,0.3l-3.4,4.4c-0.1,0.2-0.2,0.4-0.1,0.5
											c0,0.2,0.2,0.4,0.3,0.5c0,0,2.7,1.8,2.7,5.3c-0.1,3.7-1.7,6-1.7,6.1c-0.1,0.1-0.1,0.3-0.1,0.5c0,0.1,0.3,2.5,2.1,5.3
											c1.6,2.6,4.8,6,10.9,7.8c0.1,0,0.1,0,0.2,0s0.1,0,0.2,0c6.1-1.8,9.3-5.2,10.9-7.8c1.7-2.7,2-5,2.1-5.3c0-0.2,0-0.3-0.1-0.5
											c0,0-1.7-2.4-1.7-6.1c0-3.5,2.6-5.2,2.7-5.3c0.2-0.1,0.3-0.3,0.3-0.5C34.5,10.7,34.5,10.5,34.3,10.3z M31.9,23.2
											c-0.3,1.6-2.2,8.7-11.8,11.6c-5.6-1.7-8.5-4.8-9.9-7.1c-1.3-2-1.7-3.9-1.8-4.5c0.5-0.8,1.8-3.1,1.8-6.6c0-3.2-1.8-5.2-2.7-6
											l2.7-3.5c6.1,1.4,9-0.3,10-1.4c0.8,0.8,2.5,1.9,5.7,1.9c1.3,0,2.7-0.2,4.3-0.5l2.7,3.5c-1,0.8-2.8,2.8-2.7,6
											C30.1,20.1,31.4,22.4,31.9,23.2z"/>
										<path class="st1 fill-colored" d="M13.9,11.8h12.5c0.4,0,0.7-0.3,0.7-0.7s-0.3-0.7-0.7-0.7H13.9c-0.4,0-0.7,0.3-0.7,0.7S13.5,11.8,13.9,11.8z"
											/>
										<path class="st1 fill-colored" d="M25.4,27.8L25.4,27.8c-5.6,2.6-10.4,0-10.5,0c-0.3-0.2-0.8-0.1-0.9,0.3c-0.1,0.2-0.1,0.3-0.1,0.5
											s0.2,0.3,0.3,0.4c0.2,0.1,2.5,1.4,5.8,1.4c2,0,4-0.4,5.9-1.3c0.2-0.1,0.3-0.2,0.4-0.4c0.1-0.2,0.1-0.4,0-0.5
											C26.1,27.8,25.7,27.6,25.4,27.8z"/>
										<path class="st1 fill-colored" d="M26.4,17.3h-4.3l-1.3-4.1c-0.1-0.3-0.4-0.5-0.7-0.5s-0.6,0.2-0.7,0.5l-1.3,4.1h-4.3c-0.3,0-0.6,0.2-0.7,0.5
											c-0.1,0.3,0,0.6,0.3,0.8l3.5,2.5l-1.3,4.1c-0.1,0.3,0,0.6,0.3,0.8c0.1,0.1,0.3,0.1,0.4,0.1s0.3,0,0.4-0.1l3.5-2.5l3.5,2.5
											c0.2,0.2,0.6,0.2,0.8,0c0.2-0.2,0.3-0.5,0.3-0.8l-1.3-4.1l3.5-2.5c0.2-0.2,0.3-0.5,0.3-0.8C26.9,17.5,26.7,17.3,26.4,17.3z
											 M18.4,21.1c0.1-0.3,0-0.6-0.3-0.8L16,18.7h2.6c0.3,0,0.6-0.2,0.7-0.5l0.8-2.5l0.8,2.5c0.1,0.3,0.4,0.5,0.7,0.5h2.6l-2.1,1.6
											c-0.2,0.2-0.3,0.5-0.3,0.8l0.8,2.5L20.5,22c-0.2-0.2-0.6-0.2-0.8,0l-2.1,1.6L18.4,21.1z"/>
									</g>
								</g>
							</svg>
							<span>Thriller</span>
						</div>
						<div v-if="genre == 'romance'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g>
									<g id="path-3_12_" class="st3">
										<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
										<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
											v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
									</g>
									<path class="st4 fill-colored" d="M30.8,13c0.9-2.5-1-4.2-1.5-4.7c0-0.1-0.1-0.2-0.1-0.3c-0.4-1-0.5-2.2-0.5-2.2c0-0.2-0.1-0.3-0.3-0.4
										c-0.2-0.1-0.4-0.1-0.5,0c-0.2,0.1-0.8,0-1.3-0.1c-0.8-0.1-1.7-0.3-2.7-0.1c-1.1-0.6-2.8-0.9-4,0.1c-1.2-0.5-2.4,0-3,0.8
										c-0.9,1.2-0.3,2.5,0.7,3.4c-0.3,0.8-1,2.4-1.3,4.2c-0.6,3.1-0.1,5.4,1.4,6.7l-4.3,7.4c0-0.4,0-0.8-0.1-1.2c-0.4-2.6-1.6-4.7-3.6-6
										c-0.1-0.1-0.3-0.1-0.4-0.1c-0.2,0-0.3,0.1-0.3,0.3c0,0.1-0.7,1.4-0.6,3.3c0.1,1.7,0.7,4.2,3.7,6.1l-2.4,4c-0.1,0.1-0.1,0.3-0.1,0.4
										c0,0.1,0.1,0.3,0.3,0.3c0.1,0,0.2,0.1,0.3,0.1c0.2,0,0.4-0.1,0.5-0.3l4.3-7.5c2.6,1.3,5.3,1.5,7.6,0.5c1.9-0.8,2.9-2.1,2.9-2.1
										c0.1-0.1,0.1-0.3,0.1-0.5c0-0.2-0.2-0.3-0.3-0.4c-3.7-1.6-6.4-1.1-8.1-0.4c-0.2,0.1-0.4,0.2-0.6,0.3l2.2-3.8
										c1.8,0.8,4.1,0.3,6.6-1.5c1.5-1.1,2.8-2.4,3.3-3c1.1,0.4,2.6,0.3,3.2-0.9C32.1,14.9,31.8,14,30.8,13z M28.8,11.5
										c0.3-0.5,0.5-0.9,0.5-1.4c0,0,0.1,0.1,0.1,0.1c0.4,0.7,0.6,1.3,0.4,2C29.5,11.9,29.1,11.6,28.8,11.5z M23.2,16
										c1.3-0.5,2.7-0.4,4.2,0.2c-1.3,1.3-5.4,5.3-8.4,4C19.5,19.1,20.9,16.8,23.2,16z M27.8,13.3c-0.2,0.2-0.8,0.4-2.3,0.3
										c-0.4,0-0.8-0.1-1.1-0.1c-0.7,0-1.2,0.1-1.6,0.1c-0.2-0.5-0.6-1.2-1-1.7c-0.2-0.3-0.3-0.6-0.3-0.9c0,0,0-0.1,0-0.1
										c0.3,0.3,0.6,0.7,1,1c0.9,0.9,1.9,1.3,2.8,1.2c1-0.1,1.7-0.7,2.1-1.1c0.2,0,0.4,0.2,0.5,0.7C28,13.1,27.9,13.2,27.8,13.3z
										 M28.1,10.5c0-0.1,0-0.1,0-0.2c-0.1-0.6-0.4-1.2-1-1.7c-0.7-0.6-1.9-1-2.9-0.7c-0.6,0.2-1,0.6-1.2,1.2c-0.3,1,0.3,1.9,1.2,2.3
										c0.8,0.4,1.6,0.3,1.9-0.3c0.3-0.4,0.3-0.8,0.2-1c-0.1-0.5-0.5-0.7-0.6-0.8c-0.3-0.1-0.6,0-0.7,0.2c-0.1,0.1-0.1,0.3,0,0.4
										c0,0.1,0.1,0.2,0.3,0.3c0,0,0.1,0.1,0.1,0.1c0,0,0,0,0,0.1c0,0-0.3,0-0.6-0.1c-0.1-0.1-0.8-0.4-0.6-1c0.1-0.3,0.2-0.4,0.5-0.5
										c0.5-0.1,1.3,0.1,1.9,0.5c0.3,0.3,0.5,0.6,0.6,0.9c0,0.3-0.1,0.6-0.3,0.8c-0.2,0.2-0.7,0.7-1.4,0.8c-0.6,0-1.3-0.3-2-0.9
										c-0.6-0.5-1-1-1.3-1.4c-0.3-0.4-0.4-0.8-0.4-1.1c0-0.5,0.3-1,1-1.6c0.6-0.5,1.3-0.6,2-0.6c0.5,0,1.1,0.1,1.6,0.2
										c0.5,0.1,0.9,0.1,1.3,0.1c0.1,0.5,0.2,1.2,0.5,1.9C28.4,9.2,28.4,9.9,28.1,10.5z M22,6.1c-0.9,0.8-1.4,1.6-1.4,2.4c0,0,0,0.1,0,0.1
										c-0.3-0.3-0.6-0.6-0.7-1c-0.1-0.3,0-0.7,0.2-1c0.4-0.6,1-0.8,1.5-0.8c0.2,0,0.4,0,0.7,0.1C22.2,6,22.1,6.1,22,6.1z M18.9,8
										c0.3,1,1.2,1.7,1.9,2.2c-0.1,0.2-0.2,0.4-0.3,0.7c0,0.2,0,0.5,0,0.7c-0.5-0.9-1.2-1.8-2-2.5c-0.2-0.2-1.5-1.2-0.8-2.2
										c0.2-0.3,0.7-0.6,1.1-0.6c0.1,0,0.2,0,0.3,0C18.8,6.8,18.7,7.4,18.9,8z M18.3,10.3c1.9,1.9,2.5,5.1,2.6,5.7
										c-1.5,1.1-2.4,2.6-2.8,3.5C15.8,17.3,17.7,12,18.3,10.3z M22.8,15c-0.3,0.1-0.6,0.2-0.9,0.4c-0.1-0.5-0.3-1.2-0.6-2
										c-0.1-0.3-0.2-0.5-0.3-0.8c0.5,0.7,0.9,1.7,1,1.8c0.1,0.2,0.3,0.3,0.5,0.3l0.1,0c0,0,0.9-0.2,2.2-0.1C24.1,14.6,23.5,14.7,22.8,15z
										 M28.5,14.1c0.3-0.3,0.5-0.7,0.5-1.1c1.2,0.9,1.9,1.8,1.7,2.2h0c-0.5,1-2.1,0.3-2.2,0.3c-0.8-0.4-1.6-0.7-2.4-0.8
										C27,14.7,28,14.6,28.5,14.1z M15.5,26.7c0.4-0.3,1-0.8,1.9-1.1h0c1.9-0.8,4.1-0.7,6.5,0.2c-0.4,0.4-1.1,0.9-2,1.3
										C19.9,27.8,17.8,27.7,15.5,26.7z M12.2,29.3c-1.9-1.3-2.8-3-2.9-5c0-0.9,0.1-1.7,0.3-2.2C12.2,24.2,12.3,27.7,12.2,29.3z M9,21
										L9,21L9,21L9,21z M24.9,25.2L24.9,25.2L24.9,25.2L24.9,25.2z"/>
								</g>
							</svg>
							<span>Romance</span>
						</div>
						<div v-if="genre == 'fantasy'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g id="path-3_14_" class="st3">
									<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
									<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
										v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
								</g>
								<path class="st4 fill-colored" d="M29.8,34.1L19.1,13.3l2.8,0.4c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.1-0.4-0.1-0.5l-2.9-2.9l1.8-3.6
									c0.1-0.2,0.1-0.4-0.1-0.5c-0.1-0.1-0.4-0.2-0.5-0.1L17,7.7l-2.9-2.9c-0.1-0.1-0.4-0.2-0.5-0.1c-0.2,0.1-0.3,0.3-0.2,0.5l0.7,4
									l-3.6,1.9c-0.2,0.1-0.3,0.3-0.2,0.5c0,0.2,0.2,0.4,0.4,0.4l4,0.6l0.7,4c0,0.2,0.2,0.4,0.4,0.4l0.1,0c0.2,0,0.3-0.1,0.4-0.3l1.3-2.5
									L28,35c0.1,0.1,0.2,0.2,0.3,0.2c0,0,0.1,0,0.1,0c0.1,0,0.1,0,0.2-0.1l1-0.5c0.1-0.1,0.2-0.2,0.2-0.3C29.9,34.3,29.9,34.2,29.8,34.1
									z M15,11.8l-2.9-0.5l2.6-1.4C14.9,9.9,15,9.7,15,9.5l-0.5-2.9l2.1,2.1c0.1,0.1,0.4,0.2,0.5,0.1l2.6-1.4L18.4,10
									c-0.1,0.2-0.1,0.4,0.1,0.5l2.1,2.1l-2.9-0.5c-0.2,0-0.4,0.1-0.5,0.2l-1.3,2.7l-0.5-2.9C15.4,12,15.2,11.8,15,11.8z M17.9,13.2
									L17.9,13.2l10.9,20.9l-0.1,0.1L17.9,13.2L17.9,13.2z"/>
							</svg>
							<span>Fantasy</span>
						</div>
						<div v-if="genre == 'comedy'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g id="path-3_28_" class="st3">
									<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
									<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
										v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
								</g>
								<path class="st4 fill-colored" d="M36.2,12.7l0-0.4l-0.4-0.1c0,0-0.4-0.1-1-0.3c0.1-0.3,0.2-0.6,0.3-1c0.3-1.6-0.1-2.4-0.6-2.8
									c-1.3-1.1-3.5-1.3-4.3-1.3c-0.7,0-3.6,0.3-4.5,0.5c-1.1,0.3-3.2,1.3-3,3.1c0.1,0.5,0.2,1.2,0.3,1.7c-0.1,0-0.1,0-0.2,0.1
									c-0.7,0.3-1,0.4-2.6,0.4s-1.9-0.1-2.6-0.4c-0.1,0-0.1,0-0.2-0.1c0.1-0.5,0.2-1.2,0.3-1.7c0.2-1.9-1.9-2.9-3-3.1
									C13.6,7,10.6,6.7,9.9,6.8C9.1,6.8,6.9,7,5.6,8c-0.5,0.4-1,1.2-0.6,2.8c0.1,0.4,0.2,0.7,0.3,1c-0.6,0.2-1,0.3-1,0.3l-0.4,0.1l0,0.4
									c0,0.1-0.1,2.9,0.7,5.7c0.4,1.4,1.4,2.3,3.1,2.8c1.3,0.4,2.6,0.4,3.3,0.4l0.1,0c0.1,0,0.2,0,0.3,0c0.2,0,0.5,0,0.9,0
									c1.4,0,2.5-0.3,3.5-1c-0.2,0.5-0.4,1-0.5,1.2c-0.1,0.2-0.2,0.5-0.4,0.8c-0.5,0.9-1.1,2-0.9,3.1c-0.6,0.5-1.9,1.8-2.5,4.2l-0.1,0.3
									l0.2,0.3c0.1,0.1,1.9,2,8.1,2.2v0l0.2,0l0.2,0v0c6.2-0.1,8-2.1,8.1-2.2l0.2-0.3L28.5,30c-0.6-2.4-1.9-3.6-2.5-4.2
									c0.2-1.1-0.4-2.2-0.9-3.1c-0.1-0.3-0.3-0.5-0.4-0.8c-0.1-0.3-0.3-0.7-0.5-1.2c1,0.7,2.2,1,3.5,1c0.3,0,0.6,0,0.9,0
									c0.1,0,0.2,0,0.3,0l0.1,0c1.4,0,5.6-0.1,6.5-3.2C36.3,15.6,36.2,12.9,36.2,12.7z M30,8C30,8,30,8,30,8c0.8,0,2.6,0.2,3.6,1
									c0.5,0.4,0.3,1.5-0.1,2.5c-2-0.5-4.9-0.9-7.5-0.4c-0.7,0.2-1.4,0.3-1.9,0.5c-0.1-0.5-0.2-1-0.2-1.4c-0.1-1,1.6-1.6,2-1.7
									C26.6,8.3,29.3,8,30,8z M26.2,12.4c3.3-0.7,7.3,0.4,8.7,0.9c0,0.9-0.1,2.9-0.6,4.8c-0.6,2.2-4,2.3-5.3,2.3l-0.1,0
									c-0.1,0-0.2,0-0.3,0c-1.5,0.1-5.5,0.4-6.4-6.8c0.3-0.1,0.6-0.2,0.9-0.3C23.6,13.1,24.4,12.8,26.2,12.4z M25.9,30.5
									C25.9,30.5,25.9,30.5,25.9,30.5l-1.4-3c0.2-0.1,0.3-0.2,0.5-0.4c0.1-0.1,0.2-0.1,0.3-0.2c0.5,0.4,1.3,1.3,1.8,3
									C26.9,30.1,26.5,30.3,25.9,30.5z M12.9,29.9c0.5-1.6,1.3-2.5,1.8-2.9c0.1,0.1,0.2,0.2,0.3,0.2c0.3,0.2,0.5,0.4,0.8,0.5l-1.1,3
									C13.7,30.4,13.1,30.1,12.9,29.9z M22.7,28.8L22.7,28.8c0.4-0.5,0.5-0.6,0.7-0.7l1.2,2.8c-0.6,0.2-1.3,0.3-2,0.4l-0.6-2
									C22.4,29.1,22.6,28.8,22.7,28.8z M16.9,28.3c0.1,0.1,0.3,0.2,0.4,0.5l0,0.1c0.1,0.1,0.3,0.3,0.8,0.6l-0.4,2
									c-0.7-0.1-1.3-0.2-1.9-0.3L16.9,28.3z M19.4,29.7c0.5,0.1,0.9,0,1.4,0l0.5,1.7c-0.4,0-0.9,0-1.3,0c-0.3,0-0.6,0-0.9,0L19.4,29.7z
									 M24.3,26.1c-0.6,0.4-0.9,0.5-1.2,0.7c-0.5,0.2-0.9,0.4-1.4,1.1c-0.1,0.1-0.6,0.6-1.7,0.6c-1.1,0-1.7-0.5-1.7-0.5
									c-0.6-0.8-0.9-0.9-1.4-1.1c-0.3-0.1-0.6-0.2-1.2-0.7C15,25.6,15.1,25,16,23.3c0.2-0.3,0.3-0.6,0.4-0.9c0.7-1.5,2-5.5,2-5.7
									c0.3-0.9,0.5-1.9,0.6-3c0.5,0,1.3,0,1.8,0c0.1,1.1,0.3,2.1,0.6,3c0,0,1.3,4.2,2,5.7c0.1,0.3,0.3,0.6,0.4,0.9
									C24.9,25,25,25.6,24.3,26.1z M13.8,12.4c1.8,0.4,2.6,0.7,3.2,0.9c0.3,0.1,0.6,0.2,0.9,0.3c-0.9,7.2-4.9,6.9-6.4,6.8
									c-0.1,0-0.3,0-0.3,0l-0.1,0c-1.3,0-4.6-0.1-5.3-2.3c-0.6-2-0.6-3.9-0.6-4.8C6.5,12.8,10.5,11.7,13.8,12.4z M14.1,8.5
									c0.5,0.1,2.1,0.7,2,1.7c0,0.4-0.1,0.9-0.2,1.4c-0.6-0.2-1.2-0.3-1.9-0.5c-0.9-0.2-1.7-0.3-2.6-0.3c-1.8,0-3.5,0.3-4.9,0.6
									C6.1,10.5,6,9.4,6.4,9c1-0.8,2.8-1,3.6-1C10.6,8,13.4,8.3,14.1,8.5z"/>
							</svg>
							<span>Comedy</span>
						</div>
						<div v-if="genre == 'drama'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g id="path-3_18_" class="st3">
									<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
									<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
										v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
								</g>
								<g class="st3">
									<path class="st1 fill-colored" d="M30.3,17.8c1.2,0,2.1-0.4,2.2-0.4c0.1-0.1,0.2-0.2,0.3-0.3s0-0.3,0-0.4c-0.1-0.1-0.2-0.2-0.3-0.3
										c-0.1-0.1-0.3,0-0.4,0c0,0-0.7,0.3-1.6,0.3c0,0-0.1,0-0.1,0c-1.1,0-2-0.5-2.6-1.5c-0.1-0.1-0.2-0.2-0.3-0.2c-0.1,0-0.3,0-0.4,0.1
										c-0.1,0.1-0.2,0.2-0.2,0.3c0,0.1,0,0.3,0.1,0.4C27.6,17.1,28.8,17.8,30.3,17.8z"/>
									<path class="st1 fill-colored" d="M13.1,21.7c0.2-0.2,0.2-0.6,0-0.8c-1.1-1-2.2-1.5-3.2-1.3c-1.7,0.3-2.7,1.9-2.7,2C7,21.8,7,21.9,7,22.1
										s0.1,0.3,0.3,0.3c0.1,0,0.2,0.1,0.3,0.1c0.2,0,0.4-0.1,0.5-0.3c0,0,0.8-1.3,2-1.5c0.7-0.1,1.5,0.2,2.4,1
										C12.6,21.9,12.9,21.9,13.1,21.7z M12.9,21.5L12.9,21.5L12.9,21.5L12.9,21.5z"/>
									<path class="st1 fill-colored" d="M17.8,18.7L17.8,18.7c-1.7,0.3-2.7,1.9-2.7,2c-0.1,0.3-0.1,0.6,0.2,0.7c0.1,0,0.2,0.1,0.3,0.1
										c0.2,0,0.4-0.1,0.5-0.3c0,0,0.8-1.3,2-1.5c0.7-0.1,1.5,0.2,2.4,1c0.1,0.1,0.2,0.2,0.4,0.1c0.1,0,0.3-0.1,0.4-0.2
										c0.1-0.1,0.2-0.2,0.1-0.4c0-0.1-0.1-0.3-0.2-0.4C20,19,18.9,18.5,17.8,18.7z"/>
									<path class="st1 fill-colored" d="M17.6,27.2c-0.1,0-0.3,0-0.4,0.1c-0.1,0.1-2,1.6-4.6,0.5c-0.1-0.1-0.3-0.1-0.4,0c-0.1,0.1-0.2,0.2-0.3,0.3
										c-0.1,0.1-0.1,0.3,0,0.4s0.2,0.2,0.3,0.3c0.7,0.3,1.5,0.5,2.3,0.5c2,0,3.4-1.1,3.4-1.2c0.1-0.1,0.2-0.2,0.2-0.4
										c0-0.1,0-0.3-0.1-0.4C17.8,27.3,17.7,27.2,17.6,27.2z"/>
									<path class="st1 fill-colored" d="M34.7,9.6c-0.1-0.2-0.3-0.4-0.6-0.4c-3.6,0.6-6.5-0.4-6.5-0.4l-0.1,0c-0.1,0-3-0.6-5.9-2.9
										c-0.2-0.2-0.5-0.2-0.7,0c0,0-0.6,0.5-1.4,1.7c-0.7,1-1.7,2.6-2.5,5c-2.1,0.8-3.7,0.8-3.7,0.8l-0.1,0c0,0-3,0.5-6.5-0.5
										c-0.2-0.1-0.5,0-0.6,0.3C6,13.4,4.2,16.9,5,23.2c0.5,3.9,2.9,6.7,4.4,8c2,1.8,4.2,3,5.9,3c0.1,0,0.3,0,0.4,0
										c2-0.2,4.5-2.4,6.1-5.4c0.2,0.1,0.4,0.1,0.5,0.2c1.6,0.4,4.3-0.4,6.6-2c1.6-1.1,4.5-3.5,5.4-7.4C36,13.4,34.8,9.8,34.7,9.6z
										 M21,27.9c-1.7,3.2-4.1,5-5.5,5.2c-1.4,0.2-3.6-0.9-5.5-2.7c-1.3-1.2-3.6-3.8-4-7.4c-0.6-4.7,0.4-7.8,0.8-8.9
										c3.4,0.9,6.2,0.5,6.5,0.4c0.3,0,2-0.2,4.3-1c0.7-0.3,1.4-0.6,2-0.9c0.2,0.3,0.6,0.9,1,1.8c0.6,1.3,1.4,3.6,1.8,6.7
										C22.8,23.9,21.8,26.3,21,27.9z M26.4,24.1L26.4,24.1L26.4,24.1L26.4,24.1z M23.6,23.4c0.8,0.2,1.6,0.6,2.2,1.2
										c0.2,0.2,0.6,0.2,0.8,0c0.2-0.2,0.2-0.5,0-0.8c-0.8-0.8-1.8-1.3-2.9-1.6c0-0.5,0-1-0.1-1.4c-0.2-1.9-0.7-3.7-1.2-5.3
										c0.2,0,0.4,0,0.6,0c1,0,1.7-0.3,1.8-0.4c0.3-0.1,0.4-0.4,0.3-0.7c-0.1-0.3-0.4-0.4-0.7-0.3c0,0-1.1,0.5-2.4,0.1
										c-0.8-1.9-1.6-2.8-1.7-2.9c-0.2-0.2-0.5-0.2-0.7-0.1c-0.4,0.2-0.7,0.4-1.1,0.6c1.1-2.8,2.4-4.4,3-5c2.9,2.1,5.6,2.7,5.9,2.8
										c0.3,0.1,3,0.9,6.5,0.5c0.3,1.1,0.8,4.3-0.4,8.9c-1.5,5.7-8.1,9.3-10.8,8.6c-0.1,0-0.2,0-0.2-0.1C23,26.4,23.4,24.9,23.6,23.4z"/>
								</g>
							</svg>
							<span>Drama</span>
						</div>
						<div v-if="genre == 'action'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g id="path-3_6_" class="st3">
									<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
									<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
										v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
								</g>
								<path class="st4 fill-colored" d="M33.9,31.4c0-0.1,0-0.1,0-0.2l0-1c0-1.3-0.3-2.3-1-2.9c-0.9-0.9-2.2-0.9-3.5-0.9c0,0-0.1,0-0.1,0
									c-2,0-7.4-0.9-7.8-4c0-0.3-0.1-0.8-0.1-1.2c-0.1-4,1.2-11.2,1.2-11.2c0-0.2-0.1-0.5-0.3-0.6c-1.4-0.8-3-1.3-4.5-1.6
									c0-0.9,0-1.8-0.6-2.4c-0.4-0.4-1-0.7-1.8-0.7c-0.6,0-1.1,0.2-1.5,0.6c-0.7,0.7-0.8,1.9-0.8,2.5c-0.1,0-0.1,0-0.2,0
									c-2.4,0.5-3.9,1.5-3.9,1.5C8.9,9.5,8.8,9.7,8.8,9.9c0,0-0.3,4.6-0.3,9.9c0,2.4,0,4.5,0.1,6.4l0,0l-1-0.6c-0.2-0.1-0.5-0.1-0.7,0.1
									s-0.3,0.4-0.2,0.6l0.3,0.9l-0.8,0.8c-0.2,0.2-0.2,0.4-0.1,0.6c0.1,0.2,0.3,0.3,0.6,0.3l0.8,0l-0.1,1.1c0,0.3,0.1,0.5,0.3,0.6
									c0.2,0.1,0.5,0,0.7-0.2L8.9,30c0.1,0.6,0.1,1.2,0.2,1.7c0,0,0,0.1,0,0.1C9.3,33,9.5,34,9.8,34.9c0.1,0.2,0.3,0.4,0.5,0.4h3.9
									c0.2,0,0.3-0.1,0.4-0.2c0.1-0.1,0.2-0.3,0.1-0.4c0-0.5,0-0.9,0-1.1l0.1,0l0.1,0c8.4,2.6,18.3,0.7,18.4,0.7c0.3-0.1,0.5-0.3,0.5-0.6
									C33.9,33.7,33.9,33.1,33.9,31.4z M8.5,28c-0.1-0.1-0.2-0.2-0.4-0.2c0.1-0.1,0.2-0.2,0.2-0.4c0.1,0.1,0.2,0.1,0.4,0.1
									c0,0.3,0,0.6,0.1,1c0,0,0,0-0.1,0l0,0C8.7,28.3,8.6,28.2,8.5,28z M20.7,31.1c-1.2-0.1-3-0.5-5.5-1.2c0,0,0,0,0,0c0-1.6,0-3.3,0-4.9
									c1.7-0.1,3.5-0.9,5.1-2.3c0,0,0,0,0,0.1c0.2,1.8,1.6,3.2,4,4.1c1.8,0.7,3.8,1,5.1,0.9c1.3,0,2.2,0.1,2.7,0.6
									c0.4,0.4,0.6,1.1,0.6,2.1l0,0.6C28.7,31.3,24.1,31.4,20.7,31.1z M20.3,21c-1.6,1.7-3.3,2.6-5,2.7c0.1-7.3,0.6-13,0.8-14.9
									c1.8,0.1,3.6,0.5,5.4,1.4C21.2,11.8,20.3,17.4,20.3,21z M14.2,23.7c-2.4-0.3-4.1-2.1-4.5-2.7c0-5.1,0.2-9.6,0.3-10.8
									c0.7-0.4,2.5-1.3,5-1.4C14.8,10.8,14.3,16.5,14.2,23.7z M14.1,29.6c-0.7-0.2-1.4-0.4-2-0.6c-1.3-0.4-1.9-0.6-2.2-0.6l-0.1-1.7
									c-0.1-1.2-0.1-2.6-0.1-4c0.9,0.8,2.5,1.9,4.5,2.2C14.1,26.5,14.1,28,14.1,29.6z M11.8,30.1c2.5,0.7,6.4,1.9,8.8,2.1
									c1.4,0.1,3,0.2,4.7,0.2c2.5,0,5-0.2,7.4-0.5l0,1.3c-2,0.3-10.2,1.5-17.4-0.7c-1.9-0.7-4.2-1.2-5.2-1.4c-0.1-0.5-0.1-1-0.2-1.6
									C10.4,29.7,11.2,29.9,11.8,30.1z M16.8,7.7c-0.4,0-0.8,0-1.1,0c0,0,0,0,0,0c0,0-0.1,0-0.1,0c-0.4,0-0.8,0-1.2,0.1
									c0-0.6,0.2-1.2,0.5-1.6v0C15,6,15.2,5.9,15.4,5.9c0.5,0,0.8,0.1,1,0.3C16.7,6.5,16.8,7.1,16.8,7.7z M13.7,33.2
									c-0.1,0.3-0.1,0.6-0.1,0.9h-2.9c-0.1-0.5-0.3-1.1-0.4-1.8C11.2,32.5,12.4,32.8,13.7,33.2z M9.3,31.7L9.3,31.7L9.3,31.7L9.3,31.7z"
									/>
							</svg>
							<span>Action</span>
						</div>
						<div v-if="genre == 'adventure'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g id="path-3_2_" class="st3">
									<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
									<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
										v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
								</g>
								<g class="st3">
									<path class="st1 fill-colored" d="M27.1,16c-0.3-2.7-0.8-4.2-1.7-4.9c-0.8-0.6-1.8-0.3-2.3-0.2c-1.7,0.5-2.7,0.5-3.1,0.5s-1.5,0-3.1-0.5
										c-0.5-0.2-1.5-0.4-2.3,0.2c-0.9,0.6-1.4,2.1-1.7,4.9c-5.4,1.1-8.8,3.5-8.8,6.1c0,1.9,1.7,3.7,4.8,4.9c3,1.2,6.9,1.9,11.1,1.9
										s8.1-0.7,11.1-1.9c3.1-1.3,4.8-3,4.8-4.9C35.9,19.4,32.5,17.1,27.1,16z M20,27.9c-4,0-7.8-0.6-10.7-1.8c-2.7-1.1-4.2-2.5-4.2-4
										c0-2,3-4,7.6-5c0,0.5-0.1,1-0.1,1.5v2c0,1.9,3.1,3.3,7.3,3.3s7.3-1.4,7.3-3.3v-2.1c0-0.5,0-1-0.1-1.5c4.6,1,7.6,3,7.6,5
										c0,1.5-1.5,2.9-4.2,4C27.8,27.2,24,27.9,20,27.9z M20,20.8c-4,0-6.2-1.3-6.2-2.2c0.1-3.8,0.6-6,1.4-6.6v0c0.1-0.1,0.3-0.2,0.5-0.2
										c0.2,0,0.5,0.1,0.9,0.2c1.8,0.5,2.9,0.5,3.4,0.5s1.6,0,3.4-0.5c0.7-0.2,1.1-0.2,1.4,0c0.8,0.6,1.3,2.8,1.4,6.6
										C26.2,19.5,24,20.8,20,20.8z M26.2,20.6c0,0.9-2.2,2.3-6.2,2.3s-6.2-1.3-6.2-2.3v-0.3c1.3,1,3.6,1.5,6.2,1.5s5-0.6,6.2-1.5V20.6z"
										/>
									<path class="st1 fill-colored" d="M22.2,13c-2.2,1.2-4.4,0-4.5,0c-0.3-0.1-0.6-0.1-0.7,0.2C17,13.4,17,13.5,17,13.6c0,0.1,0.1,0.2,0.2,0.3
										c0,0,1.2,0.7,2.8,0.7c0.9,0,1.8-0.2,2.7-0.7c0.1-0.1,0.2-0.2,0.2-0.3c0-0.1,0-0.3,0-0.4C22.8,13,22.5,12.9,22.2,13z"/>
								</g>
							</svg>
							<span>Adventure</span>
						</div>
						<div v-if="genre == 'science-fiction'">
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">
								<g id="path-1_1_">
									<path class="st0" fill="transparent" d="M5,39.5c-2.5,0-4.5-2-4.5-4.5V5c0-2.5,2-4.5,4.5-4.5h30c2.5,0,4.5,2,4.5,4.5v30c0,2.5-2,4.5-4.5,4.5H5z"/>
									<path class="st1 fill-colored" d="M35,1c2.2,0,4,1.8,4,4v30c0,2.2-1.8,4-4,4H5c-2.2,0-4-1.8-4-4V5c0-2.2,1.8-4,4-4H35 M35,0H5C2.2,0,0,2.2,0,5
										v30c0,2.8,2.2,5,5,5h30c2.8,0,5-2.2,5-5V5C40,2.2,37.8,0,35,0L35,0z"/>
								</g>
								<g>
									<path class="st1 fill-colored" d="M15.9,26.2c-0.3,0-0.5,0.2-0.5,0.5v1.9c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5v-1.9
										C16.4,26.4,16.2,26.2,15.9,26.2z"/>
									<path class="st1 fill-colored" d="M20.2,26.6c-0.3,0-0.5,0.2-0.5,0.5v1.9c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5v-1.9
										C20.7,26.8,20.4,26.6,20.2,26.6z"/>
									<path class="st1 fill-colored" d="M22.3,26.4c-0.3,0-0.5,0.2-0.5,0.5v1.9c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-1.9
										C22.8,26.6,22.6,26.4,22.3,26.4z"/>
									<path class="st1 fill-colored" d="M18,26.2c-0.3,0-0.5,0.2-0.5,0.5v3.6c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-3.6
										C18.5,26.4,18.3,26.2,18,26.2z"/>
									<path class="st1 fill-colored" d="M24.4,26.2c-0.3,0-0.5,0.2-0.5,0.5v3.6c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5v-3.6
										C24.9,26.4,24.7,26.2,24.4,26.2z"/>
									<path class="st1 fill-colored" d="M27.8,14L27.8,14c-1.5-2.5-4.3-4.1-7.4-4.1S14.5,11.5,13,14l0,0c-5.4,0.8-8.5,2.3-8.5,4.1
										c0,1.8,2.8,3.2,7.7,4c1.7,1.2,4.8,2,8.2,2s6.4-0.8,8.2-2c5-0.8,7.7-2.3,7.7-4C36.3,16.3,33.2,14.8,27.8,14z M16,22.7L16,22.7
										c0.3,0,0.6,0,0.8,0.1l0.1,0c0.3,0,0.5,0,0.8,0c0.3,0,0.5,0,0.8,0l0.1,0c0.3,0,0.5,0,0.8,0l0.1,0c0.5,0,1.1,0,1.6,0l0.1,0
										c0.3,0,0.5,0,0.8,0l0.1,0c0.3,0,0.5,0,0.8,0c0.3,0,0.5,0,0.8,0l0.1,0c0.2,0,0.5,0,0.7-0.1l0.2,0c0.1,0,0.3,0,0.4,0
										c-1.4,0.4-3.1,0.6-4.8,0.6c-1.8,0-3.4-0.2-4.9-0.6C15.6,22.6,15.8,22.6,16,22.7z M28.2,21.2c-1.9,0.3-4.1,0.5-6.3,0.6
										c-1,0-2.1,0-3.1,0c-2.2-0.1-4.4-0.3-6.3-0.6c-4.8-0.8-7-2.1-7-3.1c0-0.5,0.7-1.2,2-1.7c1.2-0.5,3-1,5-1.3c0,0.1-0.1,0.2-0.1,0.3
										l0,0.1c0,0.1-0.1,0.2-0.1,0.3l0,0.1c0,0.1-0.1,0.2-0.1,0.4c0,0.1,0,0.2-0.1,0.4c0,0.1,0,0.2,0,0.3l0,0.1c0,0.1,0,0.2,0,0.4
										c0,0.1,0,0.2,0,0.4c0,0.2,0,0.3,0,0.5c0,0.2,0.1,0.3,0.3,0.4c2.6,1.1,5.8,1.5,8.1,1.6c0.1,0,0.3,0,0.4,0l0.4,0l1.4-0.1
										c0.1,0,0.2,0,0.3,0l3-0.6c0.2-0.1,0.4-0.1,0.6-0.2l1.1-0.4l0.1,0l0.3-0.1l0.1,0l0.2-0.1l0.1,0l0.1,0c0.2-0.1,0.3-0.2,0.3-0.4
										c0-0.2,0-0.4,0-0.5c0-0.1,0-0.2,0-0.4c0-0.1,0-0.2,0-0.3l0-0.1c0-0.1,0-0.2-0.1-0.4c0-0.1,0-0.2-0.1-0.4c0-0.1-0.1-0.2-0.1-0.3
										l0-0.1c0-0.1-0.1-0.2-0.1-0.3l0-0.1c0-0.1-0.1-0.2-0.1-0.3c2,0.3,3.7,0.8,5,1.3c1.3,0.6,2,1.2,2,1.7
										C35.3,19.1,33.1,20.5,28.2,21.2L28.2,21.2z M16.8,11.8c2.2-1.1,5-1.1,7.2,0C21.9,12.7,18.8,12.7,16.8,11.8z M15.8,12.4
										c1.3,0.7,2.9,1.1,4.6,1.1c1.7,0,3.3-0.4,4.6-1.1c0.8,0.6,1.4,1.3,1.9,2.1c0,0.1,0.1,0.2,0.1,0.2c0.4,0.7,0.6,1.4,0.7,2.2
										c0,0.3,0,0.5,0,0.8c0,0.1,0,0.1,0,0.2c-1.2,0.5-4.2,1.6-7.4,1.4c-2.9-0.2-5.5-0.7-7.4-1.4c0-0.1,0-0.1,0-0.2c0-0.4,0-0.8,0.1-1.2
										c0.1-0.6,0.3-1.3,0.7-1.8c0-0.1,0.1-0.2,0.1-0.2C14.3,13.7,15,13,15.8,12.4z M20.8,20.1L20.8,20.1L20.8,20.1L20.8,20.1z"/>
								</g>
							</svg>
							<span>Science Fiction</span>
						</div>
					</template>
				</div>
				<div v-if="currentList == shows" class="infos table" ref="infos">
					<div class="tr">
						<div class="td">Year</div>
						<div class="td">Seasons</div>
						<div class="td">Episodes</div>
					</div>
					<div class="tr">
						<div class="td">{{ current.year }}</div>
						<div class="td">{{ current.seasonsCount }}</div>
						<div class="td">{{ current.episodesCount }}</div>
					</div>
				</div>
				<div v-else class="infos table" ref="infos">
					<div class="tr">
						<div class="td">Year</div>
						<div class="td">director</div>
					</div>
					<div class="tr">
						<div class="td">{{ current.year }}</div>
						<div class="td">{{ current.director.name }}</div>
					</div>
				</div>
				<div class="overview" ref="overview">
					{{ current.overview }}
				</div>
				<div class="crew" ref="crew">
					<!-- {{ current.authors }} -->
				</div>
			</div>
			<div class="cast" ref="cast">
				<h4>Cast</h4>
				<div class="row">
					<div v-for="character in current.cast">
						<img :src="'https://image.tmdb.org/t/p/w300_and_h450_bestv2' + character.profile_path" alt="">
						<span>{{ character.name }}</span>
					</div>
				</div>
			</div>
		</div>
		<div id="actions">
			<div>
				<svg @click="discard(current.ids.trakt)" id="discard" viewBox="0 0 38 38" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					<circle fill="#E5E5E5" cx="19" cy="19" r="19"></circle>
					<path d="M19.3575317,19 L24.9259556,13.4315761 C25.0247489,13.3328839 25.0247489,13.1728125 24.9259556,13.0740191 C24.8273645,12.975327 24.6671919,12.975327 24.5684997,13.0740191 L19.0000758,18.6425442 L13.4315508,13.0740191 C13.3328586,12.975327 13.1726861,12.975327 13.074095,13.0740191 C12.9753017,13.1728125 12.9753017,13.3328839 13.074095,13.4315761 L18.64262,19 L13.074095,24.568525 C12.9753017,24.6672172 12.9753017,24.8272887 13.074095,24.9259809 C13.1234411,24.975327 13.1881573,25 13.2527723,25 C13.3174885,25 13.3822047,24.975327 13.4315508,24.9259809 L19.0000758,19.3574558 L24.5684997,24.9259809 C24.6178458,24.975327 24.682562,25 24.7472782,25 C24.8118933,25 24.8767106,24.975327 24.9259556,24.9259809 C25.0247489,24.8272887 25.0247489,24.6672172 24.9259556,24.568525 L19.3575317,19 Z" stroke="#D9D9D9" stroke-width="1.5" fill="#D9D9D9"></path>
				</svg>
				<svg @click="like()" v-if="current" viewBox="0 0 75 75" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					<circle fill="#E5E5E5" cx="37.5" cy="37.5" r="37.5"></circle>
					<path d="M52.6066451,26.7460554 C50.7852003,24.9752168 48.4070867,24 45.9087356,24 C43.2170915,24 40.6163864,25.1647049 38.7732532,27.1961847 L37.3452435,28.7722082 L35.9153313,27.1954237 C34.0725786,25.1647049 31.4722541,24 28.7798489,24 C26.2818784,24 23.9030037,24.9752168 22.0804174,26.7464359 C18.1483492,30.5750086 17.9546757,37.0042864 21.6489325,41.0782804 C21.659206,41.0896953 21.6698599,41.1014908 21.6808944,41.1125252 L36.3395868,56.2605384 C36.6158285,56.545912 36.9773018,56.6878378 37.338014,56.6878378 C37.6991068,56.6878378 38.0605801,56.5455315 38.3360608,56.2609189 L53.0054072,41.1125252 C53.0160611,41.1014908 53.0267151,41.0896953 53.037369,41.0782804 C56.7323869,37.0065694 56.5390938,30.5776721 52.6066451,26.7460554 Z" fill="transparent" :class="['stroke-colored']" stroke-width="2"></path>
				</svg>
				<svg @click="like()" v-if="current" viewBox="0 0 75 75" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ref="liked" class="like-copy">
					<path d="M52.6066451,26.7460554 C50.7852003,24.9752168 48.4070867,24 45.9087356,24 C43.2170915,24 40.6163864,25.1647049 38.7732532,27.1961847 L37.3452435,28.7722082 L35.9153313,27.1954237 C34.0725786,25.1647049 31.4722541,24 28.7798489,24 C26.2818784,24 23.9030037,24.9752168 22.0804174,26.7464359 C18.1483492,30.5750086 17.9546757,37.0042864 21.6489325,41.0782804 C21.659206,41.0896953 21.6698599,41.1014908 21.6808944,41.1125252 L36.3395868,56.2605384 C36.6158285,56.545912 36.9773018,56.6878378 37.338014,56.6878378 C37.6991068,56.6878378 38.0605801,56.5455315 38.3360608,56.2609189 L53.0054072,41.1125252 C53.0160611,41.1014908 53.0267151,41.0896953 53.037369,41.0782804 C56.7323869,37.0065694 56.5390938,30.5776721 52.6066451,26.7460554 Z" :class="['stroke-colored', 'fill-colored']" stroke-width="2"></path>
				</svg>
			</div>
			<div>
				<svg @click="play()" viewBox="0 0 75 75" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					<circle fill="#E5E5E5" cx="37.5" cy="37.5" r="37.5"></circle>
					<circle fill="#C51DB0" cx="37.5" cy="37.5" r="31.5" class="fill-colored"></circle>
					<path d="M29.0341876,22.4734126 L29.0341876,52.5266964 L52.0003908,37.4999511 L29.0341876,22.4734126 Z M28.5170938,54 C28.4327041,54 28.3481075,53.9793162 28.271164,53.9377419 C28.1040393,53.8473539 28,53.6727831 28,53.4829062 L28,21.5172028 C28,21.327326 28.1040393,21.1527551 28.271164,21.0623671 C28.437875,20.9719791 28.6409895,20.9802526 28.8002543,21.0844987 L53.2279714,37.0674539 C53.3739987,37.1628059 53.4619047,37.3255871 53.4619047,37.4999511 C53.4619047,37.674522 53.3739987,37.8373031 53.2279714,37.9326552 L28.8002543,53.9156103 C28.7146236,53.9716633 28.6159621,54 28.5170938,54 L28.5170938,54 Z" fill="#E5E5E5" ></path>
				</svg>
			</div>
		</div>

		<div class="overlay" v-show="overlay" ref="overlay">
			<img class="logo" ref="logo" src="/assets/Logo.svg" alt="">
		</div>
	</div>
</template>

<script>

// import Emitter from '../core/Emitter';
import Axios from 'axios';
import 'gsap';
import _ from 'lodash';

export default {

	data() {
		return {
			id: Cookie.get('cushy-id'),
			currentList: [],
			movies: [],
			genres: [],
			delta: {
				x: 0,
				y: 0
			},
			pagination: null,
			downscale: .7,
			yoffset: window.innerHeight * .05,
			bluroffset: 1.2,
			opacityoffset: .5,
			orientation: 0,
			overlay: true,
			mood: {
				title: "",
				subtitle: ""
			},
			details: false,
			switched: false,
			fav: false
		};
	},

	computed: {
		paginationIndex() {
			return this.pagination - 1;
		},

		current() {
			return this.currentList[this.paginationIndex];
		}
	},

	watch: {
		currentList: function() {
			let tl = new TimelineLite({paused: true});
			tl.to(this.$refs.logo, .2, {
				rotation: -10,
				scale: 1.2,
				ease: Power3.easeOut
			})
			.to(this.$refs.logo, .6, {
				rotation: 10,
				scale: 0,
				ease: Power3.easeIn
			})
			.to(this.$refs.overlay, .9, {
				opacity: 0,
				onComplete: () => {
					this.overlay = false;
				}
			});
			tl.play();
			this.$nextTick( () => {
				this.initSlides();
			});
		},

		current: function(newVal) {
			if(this.$refs.title){
				let tl = new TimelineLite({paused:true});
				tl.fromTo(this.$refs.title, .5, {
					opacity: 0,
					y: window.innerWidth * .03
				}, {
					opacity: 1,
					y: 0
				})
				.staggerFromTo(this.$refs.rating.childNodes, 1.1, {
					opacity: 0,
					y: window.innerHeight * .06
				}, {
					opacity: 1,
					y: 0
				}, .15)
				.fromTo(this.$refs.time, .3, {
					opacity: 0,
					y: window.innerWidth * .03
				}, {
					opacity: 1,
					y: 0
				}, 1)
				;
				tl.play();
			}
			this.fav = newVal.fav;
		},

		fav: function(val) {
			if(this.$refs.liked) {
				if(!this.likeTl) {
					this.likeTl = new TimelineLite({paused: true});
					this.likeTl.to(this.$refs.liked, 1, {
						scale: 1,
						ease: Elastic.easeOut.config(1, 0.4),
						onComplete: () => {
							this.likeTl.timeScale(2);
						},
						onReverseComplete: () => {
							this.likeTl.timeScale(1);
						}
					});
				}
				if(val) {
					this.likeTl.play();
				}
				else {
					this.likeTl.reverse();
				}
			}
		}
	},

	created() {
	},

	mounted() {
		const url = __PROD__ ? 'https://coussflix.thomasboulongne.com' : 'http://localhost:3637';
		Axios.get(url + '/app/' + this.id)
		.then( response => {
			this.movies = response.data.movies;
			this.shows = response.data.shows;
			this.genres = response.data.genres;
			this.mood = response.data.mood;
			this.slideWidth = window.innerWidth * .668;

			this.pagination = 1;
			this.currentList = this.shows;

		});
	},

	methods: {
		initSlides() {
			let tempSlides = [];

			this.slidesOrder = [];

			let promises = [];

			let reset = false
			if(this.slides && !this.switched) {
				reset = true;
			}

			for (let i = 0; i < this.$refs.list.childNodes.length; i++) {
				const elt = this.$refs.list.childNodes[i];

				TweenLite.set(elt, {
					x: (-50 + i * 100) + '%',
					y: '-50%',
					width: this.slideWidth
				});

				promises.push(new Promise( resolve => {
					const newX = - this.slideWidth * this.paginationIndex;
					if(reset) {
						if(this.slides[elt.getAttribute('data-id')]) {

							TweenLite.fromTo(elt, .4,{
								x: this.slides[elt.getAttribute('data-id')].position.x,
								y: this.yoffset,
							},{
								x: newX,
								onComplete: () => {
									tempSlides[elt.getAttribute('data-id')] = {
										elt: elt,
										order: i,
										position: {
											x: elt._gsTransform.x,
											y: elt._gsTransform.yPercent,
										}
									};
									resolve();
								}
							});
							this.slidesOrder.push(elt.getAttribute('data-id'))
						}
					}
					else {
						TweenLite.set(elt, {
							x: newX,
							onComplete: () => {
								tempSlides[elt.getAttribute('data-id')] = {
									elt: elt,
									order: i,
									position: {
										x: elt._gsTransform.x,
										y: elt._gsTransform.yPercent,
									}
								};
								resolve();
							}
						});
						this.slidesOrder.push(elt.getAttribute('data-id'));
					}
				}));

			}

			Promise.all(promises)
			.then(() => {
				this.slides = tempSlides;
				this.slideTo();
			});
			
		},

		onTouchStart(e) {
			this.touches = e.touches ? e.touches[0] : e;
			this.touchOffset = {
				x: this.touches.pageX,
				y: this.touches.pageY,
				time: Date.now()
			};

			this.isScrolling = undefined;
			this.delta = {};
		},

		onTouchMove(e) {
			this.touches = event.touches ? event.touches[0] : event;
			this.pageX = this.touches.pageX;
			this.pageY = this.touches.pageY;

			this.delta = {
				x: this.pageX - this.touchOffset.x,
				y: this.pageY - this.touchOffset.y
			};

			if (typeof this.isScrolling === 'undefined') {
				this.isScrolling = !!(this.isScrolling || Math.abs(this.delta.x) < Math.abs(this.delta.y));
			}

			if (!this.isScrolling && this.touchOffset && Math.abs(this.delta.x) < this.slideWidth && !this.details) {
				e.preventDefault();
				this.orientation = this.delta.x > 0 ? 1 : -1;

				const percentage = Math.abs(this.delta.x) / (this.slideWidth/100);

				for (let i = 0; i < this.slidesOrder.length; i++) {
					const slide = this.slides[this.slidesOrder[i]];
					TweenLite.to(slide.elt, .3, {x: slide.position.x + this.delta.x});
					if(i == this.paginationIndex - 1 && this.delta.x > 0) {
						TweenLite.to(slide.elt, .3, {
							scale: this.downscale + ((1 - this.downscale) * percentage/100),
							y: this.yoffset - this.yoffset * percentage/100,
							filter: 'blur(' + this.bluroffset - this.bluroffset * percentage/100 + 'px) brightness(' + this.opacityoffset + ((1 - this.opacityoffset) * percentage/100) + ')'
						});
					}
					else if(i == this.paginationIndex) {
						TweenLite.to(slide.elt, .3, {
							scale: 1 - ((1 - this.downscale) * percentage/100), 
							y: this.yoffset * percentage/100,
							filter: 'blur(' + this.bluroffset * percentage/100+ 'px) brightness(' + 1 - ((1 - this.opacityoffset) * percentage/100) + ')'
						});
					}
					else if(i == this.paginationIndex + 1 && this.delta.x < 0) {
						TweenLite.to(slide.elt, .3, {
							scale: this.downscale + ((1 - this.downscale) * percentage/100), 
							y: this.yoffset - this.yoffset * percentage/100,
							filter: 'blur(' + this.bluroffset * percentage/100+ 'px) brightness(' + this.opacityoffset + ((1 - this.opacityoffset) * percentage/100) + ')'
						});
					}
				}
			}

		},

		onTouchEnd(e, id) {

			if (!this.isScrolling && this.touchOffset) {

				e.preventDefault();
				
				if(Math.abs(this.delta.x) > 0 && !this.details) {

					const newPagination = this.pagination - this.orientation;

					if(Math.abs(this.delta.x) > this.slideWidth / 3 && newPagination > 0 && newPagination < this.slidesOrder.length + 1) {
						this.pagination = newPagination;
					}
					this.slideTo();

				}
				else {
					if(!this.details)
						this.openDetails(id);
					else
						this.closeDetails();
				}
			}
		},

		slideTo(index) {
			index = index ? index : this.pagination;
			let tempSlides = [];
			let i = 0;

			for (let i = 0; i < this.slidesOrder.length; i++) {
				const slide = this.slides[this.slidesOrder[i]];
				const newX = - this.slideWidth * (index - 1);
				TweenLite.to(slide.elt, .3, {x: newX});
				if(i == index - 1) {
					TweenLite.to(slide.elt, .3, {
						scale: 1,
						y: 0,
						filter: 'blur(' + 0 + 'px) brightness(1)'
					});
				}
				else {
					TweenLite.to(slide.elt, .3, {
						scale: this.downscale, 
						y: this.yoffset,
						filter: 'blur(' + this.bluroffset + 'px) brightness(' + this.opacityoffset + ')'
					});
				}

				tempSlides[slide.elt.getAttribute('data-id')] = {
					elt: slide.elt,
					order: i,
					position: {
						x: newX,
						y: slide.elt._gsTransform.yPercent,
					}
				};
			}
			
			this.slides = tempSlides.slice();
			this.pagination = index;
		},

		switchList() {
			this.switched = true;
			let tl = new TimelineLite({paused: true});
			tl.to(this.$refs.switch, .2, {
				rotation: -30,
				scale: 1.1,
				onComplete: () => {
					if(this.currentList == this.movies)
						this.currentList = this.shows;
					else
						this.currentList = this.movies;

					this.pagination = 1;
				}
			})
			.to(this.$refs.switch, .8, {
				rotation: 360,
				scale: 1,
				ease: Elastic.easeOut.config(1, 0.75)
			})
			.set(this.$refs.switch, {
				rotation: 0
			});
			tl.play();
		},

		discard(id) {
			let tl = new TimelineLite({paused: true});
			tl.to(this.slides[id].elt, .4, {
				y: "-=" + window.innerHeight,
				ease: Power2.easeIn,
				scale: this.downscale,
				filter: 'blur(' + this.bluroffset + 'px) brightness(' + this.opacityoffset + ')'
			})
			.add(() => {
				if(this.currentList == this.movies) {
					const index = this.movies.indexOf(this.current);
					if (index > -1) {
						this.movies.splice(index, 1);
					}
					if(this.pagination > 1)
						this.pagination--;
					this.currentList = this.movies;
				}
				else {
					const index = this.shows.indexOf(this.current);
					if (index > -1) {
						this.shows.splice(index, 1);
					}
					if(this.pagination > 1)
						this.pagination--;
					this.currentList = this.shows;
				}
			}, '+=.4');
			tl.play();
		},

		like() {
			this.current.fav = this.current.fav ? !this.current.fav : true;
			this.fav = this.current.fav;
		},

		play() {
			window.open('https://www.netflix.com/search?q=' + this.current.title, '_blank');
		},

		onDetailsTouchStart(e) {
			if(this.details) {
				this.detailsTouches = e.touches ? e.touches[0] : e;
				this.detailsTouchOffset = {
					x: this.detailsTouches.pageX,
					y: this.detailsTouches.pageY,
					time: Date.now()
				};

				this.detailsIsScrolling = undefined;
				this.detailsDelta = {};
			}
		},

		onDetailsTouchMove(e) {
			if(this.details) {
				this.detailsTouches = event.touches ? event.touches[0] : event;
				this.detailsPageX = this.detailsTouches.pageX;
				this.detailsPageY = this.detailsTouches.pageY;

				this.detailsDelta = {
					x: this.detailsPageX - this.detailsTouchOffset.x,
					y: this.detailsPageY - this.detailsTouchOffset.y
				};

				this.detailsOrientation = this.detailsDelta.x > 0 ? 1 : -1;
			}

		},

		onDetailsTouchEnd(e) {
			if (this.details && this.detailsDelta.y > window.innerHeight * .15) {
				e.preventDefault();
				this.closeDetails();
			}
		},

		openDetails(id) {

			this.detailsTl = new TimelineLite({
				paused: true,
				onStart: () => {
					this.details = true;
				},
				onReverseComplete: () => {
					this.details = false;
				}
			});
			for (let key in this.slides) {
				const slide = this.slides[key];
				if(key == id) {
					const detailsSlideWidth = window.innerWidth * .9;
					const detailsSlideHeight = detailsSlideWidth * 9 / 16;
					const detailsSlideMargin = (window.innerWidth - detailsSlideWidth) / 2;
					const headerHeight = this.$refs.header.offsetHeight * 2;

					this.detailsTl.to(slide.elt, .4, {
						top: detailsSlideMargin *3,
						left: detailsSlideMargin,
						x: '0%',
						y: '0%',
						height: detailsSlideHeight,
						width: detailsSlideWidth,
						borderRadius: 0
					}, 0)
					.set(slide.elt.childNodes[0], {
						height: '100%',
						borderRadius: 0
					}, 0)
					.to(this.$refs.header, .4, {
						height: 0,
						margin: 0
					}, 0)
					.to([this.$refs.mood, this.$refs.switch], .4, {
						y: -headerHeight
					}, 0)
					.to(this.$refs.list, .4, {
						flexGrow: 0,
						height: detailsSlideHeight + 4 * detailsSlideMargin
					}, 0)
					.fromTo(this.$refs.description, .4, {
						flexGrow: 0
					}, {
						flexGrow: 1
					}, 0)
					.to(this.$refs.bg, .4, {
						height: '40%'
					}, 0)
					.to(this.$refs.moreInfos, .4, {
						paddingTop: window.innerWidth * .15,
						paddingBottom: window.innerWidth * .15
					}, 0)
					.to(this.$refs.back, .4,{
						display: 'flex',
						opacity: 1,
						y: 0
					}, "-= 0.2")
					.staggerFromTo(this.$refs.genres.childNodes, .2,{
						display: 'none',
						opacity: 0,
						y: window.innerHeight * .05
					}, {
						display: 'inline-block',
						opacity: 1,
						y: 0
					}, "-= 0.2", .1)
					.fromTo(this.$refs.infos, .4,{
						display: 'none',
						opacity: 0,
						y: window.innerHeight * .05
					}, {
						display: 'table',
						opacity: 1,
						y: 0
					}, "-= 0.2")
					.fromTo(this.$refs.overview, .4,{
						display: 'none',
						opacity: 0,
						y: window.innerHeight * .05
					}, {
						display: 'block',
						opacity: 1,
						y: 0
					}, "-= 0.2")
					.fromTo(this.$refs.crew, .4,{
						display: 'none',
						opacity: 0,
						y: window.innerHeight * .05
					}, {
						display: 'block',
						opacity: 1,
						y: 0
					}, "-= 0.2")
					.fromTo(this.$refs.cast, .4,{
						display: 'none',
						opacity: 0,
						y: window.innerHeight * .05
					}, {
						display: 'block',
						opacity: 1,
						y: 0
					}, "-= 0.4")
					.to(this.$refs.trailer, .4, {
						display: 'block',
						opacity: 1
					})
					;
				}
				else {
					this.detailsTl.to(slide.elt, .3, {
						opacity: 0,
						scale: .3
					}, 0);
				}
			}
			this.detailsTl.play();
		},

		closeDetails() {
			this.detailsTl.reverse();
		}
	},

	components: {
	}
}

</script>

<style lang="sass">
	@import '../stylesheets/variables.scss';

	#my-movies {
		overflow: hidden;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		position: relative;

		.bg {
			position: absolute;
			top: 0;
			height: 100%;
			left: 0;
			width: 100%;
		}

		@each $key, $value in $genres {
			&.#{$key} .bg {
				background: linear-gradient( -10deg, $grey 40%, $value 40%, $value );
			}
		}

		.header {
			display: inline-block;
			width: 100%;
			text-align: center;
			margin: $margin 0;
			color: white;
			position: relative;
			flex-shrink: 0;

			.back {
				position: fixed;
				z-index: 1;
				opacity: 0;
				display: none;
				top: $margin;
				left: $margin;
				display: flex;
				align-items: center;
				font-size: 1.4em;
				color: #f8f8f8;
				svg {
					width: 0.8em;
					margin-right: $margin;
					transform: rotate(90deg) translateY(-0.5em);
					path {
						fill: #f8f8f8;
					}
				}
			}

			.switch {
				position: absolute;
				left: $margin;
				top: 50%;
				transform: translateY(-50%);
				width: 15vw;
				height: 15vw;
				z-index: 1;

				border-radius: 50%;
				background-color: white;

				svg {
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
					width: 60%;
					height: 60%;
				}
			}

			h2 {
				margin: $margin/2 0;
			}

			h3 {
				color: rgba(255,255,255, 0.4);
				margin-bottom: $margin/2;
			}
		}

		h2 {
			display: block;
			margin: auto;
			text-transform: uppercase;
			letter-spacing: .2em;
			margin: .9em 0
		}

		h3 {
			display: block;
			font-weight: 400;
			margin: auto;
		}

		ul {
			position: relative;
			width: 100%;
			flex-grow: 1;
			flex-shrink: 0;
			li {
				position: absolute;
				top: 50%;
				left: 50%;
				flex-shrink: 0;
				perspective: 5000px;
				box-shadow: 0 1vw 6px rgba(0,0,0,.2);
				background: transparent;
				border-radius: 1.5vw;

				.poster {
					border-radius: 1.5vw;
					width: 100%;
					height: auto;
					object-fit: cover;
					display: block;
				}

				.trailer {
					display: none;
					opacity: 0;
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					iframe {
						width: 100%;
						height: 100%;
					}
				}
			}
		}

		#movie-description {
			width: 100%;
			text-align: center;
			height: min-content;

			overflow: scroll;

			#movie-title, .overview {
				display: inline-block;
				flex-basis: 100%;
				position: relative;
			}

			#movie-title {
				font-size: 1.7em;
			}

			.line {
				width: 100%;
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				align-content: flex-start;
				font-size: 1.3em;
			}
			.time, .rating {
				position: relative;
				flex-grow: 1;
				svg {
					display: inline-block;
					width: 1em;
					height: 1em;
					margin: 0 .3em;
					fill: $darker-grey;
				}
			}

			.infos {
				display: none;
				width: calc(100% - #{$margin} * 2);
				margin: $margin;
				.tr:first-child {
					text-transform: uppercase;
					color: $lighter-grey;
					.td {
						padding-bottom: $margin/2;
					}
				}
				.td {
					text-align: left;
				}
			}

			.more-infos {
				position: relative;
				background: linear-gradient( -5deg, $grey, $grey 10%, white 10%, white 90%, $grey 90%, $grey );
			}

			.overview {
				display: none;
				margin: $margin 0;
				padding: $margin;
				padding-top: 0;
				background: white;
				font-size: 1.3em;
				text-align: left;
				line-height: 1.5em;
			}

			.genres {
				margin-top: $margin;
				display: flex;
				width: 100%;
				justify-content: center;
				div {
					width: 20%;
					display: none;
					margin: 0 $margin/2;
					svg {
						height: $margin * 2.5;
						width: $margin * 2.5;
					}
					span {
						color: $lighter-grey;
					}
				}
			}

			.crew {
				text-align: left;
				display: none;
				margin: $margin;
				h4 {
					text-transform: uppercase;
					color: $lighter-grey;
				}

				span:not(:last-child) {
					&:after {
						content: ', '
					}
				}
			}

			.cast {
				display: none;
				margin: $margin;
				h4 {
					text-align: left;
					text-transform: uppercase;
					color: $lighter-grey;
					font-weight: 400;
				}
				
				.row {
					div {
						vertical-align: top;
						display: inline-block;
						width: 27%;
						margin: $margin /2;
						text-align: center;
					}
				}

				img {
					width: 100%;
					box-shadow: 0 1vw 6px rgba(0,0,0,.2);
					border-radius: 1.5vw;
					margin-bottom: $margin/2;
				}
			}
		}

		#actions {
			display: flex;
			justify-content: center;
			width: 100%;
			margin: #{$margin * 2} 0 $margin 0;
			position: relative;
			flex: none;

			div {
				position: relative;
			}
			svg#discard {
				position: absolute;
				top: 0;
				left: 0;
				width: 8vw;
				transform: translate(-50%, -50%);
			}

			svg {
				width: 15vw;
			}

			.like-copy {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%) scale(0);
			}
		}

		 .overlay {
		 	position: fixed;
		 	z-index: 5;
		 	top: 0;
		 	left: 0;
		 	bottom: 0;
		 	right: 0;
		 	// background: map-get($genres, action);
		 	background-image: linear-gradient(160deg, #ffffff, rgba(0, 0, 0, 0.5)), linear-gradient(#f03e3e, #f03e3e);
			.logo {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 33%;
			}
		 }

	}
</style>